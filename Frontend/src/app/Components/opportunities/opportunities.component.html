<app-navbar></app-navbar>
<div class="container" id="main-container" style="padding: 1%; display: flex; justify-content: space-between;" *ngIf="opportunities?.length">
  <button class="btn btn-success" (click)="addOpportunity()">Create Opportunity</button>
  <form style="width: 35%;">
    <input class="form-control me-2" type="search" placeholder="Search for manager, location, description ... " 
    aria-label="Search" name="search" (ngModelChange)="search(key.value)" #key="ngModel" ngModel/>
  </form>
</div>
<table class="table table-striped table-bordered container" *ngIf="opportunities?.length">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Description</th>
        <th scope="col">Location</th>
        <!-- <th scope="col">Skills</th>
        <th scope="col">Min Exp</th>
        <th scope="col">Vacancies</th> -->
        <th scope="col">Joining Date</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let opportunity of opportunities">
        <th scope="row">{{opportunity.oppid}}</th>
        <td>{{opportunity.manager_name}}</td>
        <td>{{opportunity.manager_email}}</td>
        <td>{{opportunity.description}}</td>
        <td>{{opportunity.location}}</td>
        <!-- <td>{{opportunity.skills}}</td>
        <td>{{opportunity.min_exp}}</td>
        <td>{{opportunity.demand}}</td> -->
        <td>{{opportunity.joining_date}}</td>
        <td style="display: flex; justify-content: space-around;">
            <a (click)="updateOpportunity(opportunity.oppid)">
              <i class="bi bi-pencil text-success"></i>
            </a>
            <a (click)="deleteOpportunity(opportunity.oppid)">
              <i class="bi bi-x-circle text-danger"></i>
            </a>
            <a (click)="getOpportunity(opportunity.oppid)">
              <i class="bi bi-view-list text-primary"></i>
            </a>
        </td>
      </tr>
      
    </tbody>
  </table>


<div *ngIf="opportunities?.length === 0" class="col-lg-12 col-md-12 col-xl-12">
  <div class="alert alert-info" role="alert">
    <h4 class="alert-heading">NO OPPORTUNITIES!</h4>
    <p>No Opportunities were found.</p>
  </div>
</div>