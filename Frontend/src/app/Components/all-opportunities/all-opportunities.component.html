<app-navbar></app-navbar>
<div class="container" id="main-container" style="padding: 1%;">
  <form>
    <div class="form-row" style="margin-top: 5%; display: flex; justify-content: center;">
      <div class="form-group" style="padding: 1%;">
        <select name="location" id="location" [(ngModel)]="location" class="form-control">
          <option value="" disabled selected>Search by Location</option>
          <option *ngFor="let location of locations" [value]="location">{{location}}</option>
        </select>
      </div>
      <div class="form-group" style="padding: 1%;">
        <select name="skill" id="skill" [(ngModel)]="skill" class="form-control">
          <option value="" disabled selected>Search by Skill</option>
          <option *ngFor="let skill of skills" [value]="skill">{{skill}}</option>
        </select>
      </div>
      <div class="form-group" style="padding: 1%;">
        <button type="submit" (click) = "onSubmit()" class="btn btn-success">Search</button>
      </div> 
      <div class="form-group" style="padding: 1%;">
        <button (click) = "resetSearch()" class="btn btn-danger">Reset</button>
      </div>
    </div>
  </form>
</div>
<table class="table table-striped table-bordered container">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Description</th>
        <th scope="col">Location</th>
        <!-- <th scope="col">Skills</th>
        <th scope="col">Min Exp</th>
        <th scope="col">Vacancies</th> -->
        <th scope="col">Joining Date</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let opportunity of opportunities" [style.color]="color(opportunity)">
        <th scope="row">{{opportunity.oppid}}</th>
        <td>{{opportunity.manager_name}}</td>
        <td>{{opportunity.manager_email}}</td>
        <td>{{opportunity.description}}</td>
        <td>{{opportunity.location}}</td>
        <!-- <td>{{opportunity.skills}}</td>
        <td>{{opportunity.min_exp}}</td>
        <td>{{opportunity.demand}}</td> -->
        <td>{{opportunity.joining_date}}</td>
        <td style="display: flex; justify-content: space-around;">
            <a (click)="getOpportunity(opportunity.oppid)">
              <i class="bi bi-view-list text-primary"></i>
            </a>
        </td>
      </tr>
      
    </tbody>
  </table>


<div *ngIf="opportunities?.length === 0" class="col-lg-12 col-md-12 col-xl-12">
  <div class="alert alert-info" role="alert">
    <h4 class="alert-heading">NO OPPORTUNITIES!</h4>
    <p>No Opportunities were found.</p>
  </div>
</div>