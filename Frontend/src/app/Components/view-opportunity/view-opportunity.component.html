<app-navbar></app-navbar>
<h3>Opportunity Details</h3>
<div class="row" style="display: flex; justify-content: space-evenly;">
    <div class="col-md-4">
        <form>
            <div class="form-group">
                <label for="manager-name">Manager Name</label>
                <input type="text" name="manager-name" id="manager-name" class="form-control" [(ngModel)]="opportunity.manager_name" readonly/>
            </div>
            <div class="form-group">
                <label for="manager-email">Manager Email</label>
                <input type="text" name="manager_email" id="manager_email" class="form-control" [(ngModel)]="opportunity.manager_email" readonly/>
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <input type="text" name="description" id="description" class="form-control" [(ngModel)]="opportunity.description" readonly/>
            </div>
            <div class="form-group">
                <label for="location">Location</label>
                <input type="text" name="location" id="location" class="form-control" [(ngModel)]="opportunity.location" readonly/>
            </div>
            <div class="form-group">
                <label for="skills">Skills</label>
                <input type="text" name="skills" id="skills" class="form-control" [(ngModel)]="opportunity.skills" readonly/>
            </div>
            <div class="form-group">
                <label for="min_exp">Min Experience</label>
                <input type="number" name="min_exp" id="min_exp" class="form-control" [(ngModel)]="opportunity.min_exp" readonly/>
            </div>
            <div class="form-group">
                <label for="demand">Vacancies</label>
                <input type="number" name="demand" id="demand" class="form-control" [(ngModel)]="opportunity.demand" readonly/>
            </div>
            <div class="form-group">
                <label for="joining_date">Joining Date</label>
                <input type="date" name="joining_date" id="joining_date" class="form-control" [(ngModel)]="opportunity.joining_date" readonly/>
            </div>
        </form>
    </div>
    <div class="col-md-6">
        <table class="table table-striped table-bordered" *ngIf="audits.length">
            <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">User Name</th>
                  <th scope="col">User Email</th>
                  <th scope="col">Timestamp</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody *ngFor="let audit of audits">
                  <tr>
                      <th scope="row">{{audit.audid}}</th>
                      <td>{{audit.user_name}}</td>
                      <td>{{audit.user_email}}</td>
                      <td>{{audit.timestamp}}</td>
                      <td>{{audit.action}}</td>
                  </tr>
                  <tr>
                    <td colspan = "5">
                      <details>
                        <summary>Audit Details</summary>
                        <p>Audit Id: {{audit.audid}}</p>
                        <p>User Name: {{audit.user_name}}</p>
                        <p>User Email: {{audit.user_email}}</p>
                        <p>Timestamp: {{audit.timestamp}}</p>
                        <p>Opportunity Id: {{audit.oppid}}</p>
                        <p>Action: {{audit.action}}</p>
                        <p>Initially: {{audit.initial}}</p>
                        <p>Updated: {{audit.updated}}</p>
                      </details>
                    </td>
                  </tr>
              </tbody>
        </table>
    </div>
</div>

<button class="btn btn-success" (click)="goBackToOpp()">Go back to Opportunities</button>